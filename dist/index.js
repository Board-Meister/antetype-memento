var i=(e=>(e.INIT="antetype.init",e.CLOSE="antetype.close",e.DRAW="antetype.draw",e.CALC="antetype.calc",e.RECALC_FINISHED="antetype.recalc.finished",e.MODULES="antetype.modules",e))(i||{});var a=(t=>(t.SAVE="antetype.memento.save",t))(a||{}),r=class{#e;#t=null;#i=null;static inject={minstrel:"boardmeister/minstrel",herald:"boardmeister/herald"};inject(t){this.#e=t}async register(t){let{modules:s,canvas:n}=t.detail;if(!this.#t){let o=this.#e.minstrel.getResourceUrl(this,"module.js");this.#t=(await import(o)).default}this.#i=s.memento=this.#t({canvas:n,modules:s,injected:this.#e})}save(t){this.#i&&this.#i.addToStack(t.detail.state)}static subscriptions={[i.MODULES]:"register","antetype.memento.save":"save"}},l=r,m=l;export{a as Event,r as Skeleton,m as default};
