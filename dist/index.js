var i=(e=>(e.INIT="antetype.init",e.CLOSE="antetype.close",e.DRAW="antetype.draw",e.CALC="antetype.calc",e.RECALC_FINISHED="antetype.recalc.finished",e.MODULES="antetype.modules",e.SETTINGS="antetype.settings.definition",e))(i||{});var o=(t=>(t.SAVE="antetype.memento.save",t))(o||{}),n=class{#e;#t=null;#i=null;static inject={minstrel:"boardmeister/minstrel",herald:"boardmeister/herald"};inject(t){this.#e=t}async register(t){let{modules:s,canvas:r}=t.detail;if(!this.#t){let a=this.#e.minstrel.getResourceUrl(this,"module.js");this.#t=(await import(a)).default}this.#i=s.memento=this.#t({canvas:r,modules:s,injected:this.#e})}save(t){this.#i&&this.#i.addToStack(t.detail.state)}static subscriptions={[i.MODULES]:"register","antetype.memento.save":"save"}},l=n,c=l;export{o as Event,n as Skeleton,c as default};
